{
  "posts": [
    {
      "content": "#### å®‰è£…\r\nä¸€èˆ¬åœ¨å®‰è£…Nodeä¹‹åï¼ŒNPMä½œä¸ºNodeçš„é»˜è®¤åŒ…ç®¡ç†å™¨ï¼Œå·²ç»è¢«å®‰è£…å¥½äº†ã€‚å¯ä»¥æ‰§è¡Œ npm -væŸ¥çœ‹å½“å‰NPMç‰ˆæœ¬\r\n```shell\r\nÎ» npm -v\r\n6.9.0\r\n```\r\n---\r\n#### ä½¿ç”¨NPMå®‰è£…ä¾èµ–åŒ…\r\nä»¥ expressä¸ºä¾‹å­ã€‚æ‰§è¡Œè¯¥å‘½ä»¤çš„æ—¶å€™ï¼Œé¦–å…ˆä¼šåœ¨å½“å‰ç›®å½•æ£€æŸ¥æ˜¯å¦æœ‰node_modulesè¯¥æ–‡ä»¶å¤¹ï¼Œæ²¡æœ‰åˆ™åˆ›å»ºã€‚ç„¶ååœ¨node_modulesç›®å½•ä¸‹åˆ›å»ºexpressç›®å½•ã€‚åœ¨ä»£ç ä¸­ç›´æ¥require('express')å³å¯å¼•ç”¨è¯¥åŒ…ã€‚\r\n\r\nNodeä¸­ï¼Œä½¿ç”¨requireå¯ä»¥å¼•ç”¨ğŸ”½\r\n1. æ ¸å¿ƒæ¨¡å—å³Nodeå†…ç½®çš„æ¨¡å—å¦‚fs, require('fs')ï¼›\r\n2. æ–‡ä»¶æ¨¡å—å³devè‡ªå·±å¼€å‘çš„æ¨¡å—ï¼Œrequire('../hello.js')ï¼›\r\n3. ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œå¦‚express, require('express'), Nodeä¼šé¦–å…ˆæŸ¥è¯¢å½“å‰æ–‡ä»¶ç›®å½•ä¸‹çš„node_modulesç›®å½•ï¼Œæ‰€ä»¥npmè¿›è¡ŒåŒ…ç®¡ç†å’ŒNodeæ¨¡å—å¼•ç”¨æ˜¯ç›¸è¾…ç›¸æˆçš„ã€‚\r\n```shell\r\nÎ» npm install express\r\n...\r\n+ express@4.17.1\r\nadded 50 packages from 37 contributors and audited 126 packages in 6.899s\r\nfound 0 vulnerabilities\r\n```\r\n---\r\n#### ä½¿ç”¨NPMç§»é™¤ä¾èµ–åŒ…\r\nå¯¹ä¸Šé¢å®‰è£…çš„expressåŒ…è¿›è¡Œç§»é™¤\r\n```shell\r\nÎ» npm uninstall express\r\n...\r\nremoved 1 package and audited 160 packages in 1.452s\r\nfound 0 vulnerabilities\r\n```\r\n---\r\n#### å‘å¸ƒåŒ…\r\nç®€å•è®°å½•å¦‚ä½•å°†è‡ªå·±å¼€å‘çš„æ¨¡å—å‘å¸ƒåˆ°NPMä»“åº“ä¸­å¹¶é€šè¿‡NPMå®‰è£…ã€‚\r\n1. åˆ›å»ºç®€å•çš„æ¨¡å—hello.js\r\n```js\r\nexports.printHello = function () {\r\n  console.log('hello nodejs')\r\n}\r\n```\r\n2. æ‰§è¡Œ`npm init `åˆ›å»ºåŒ…æè¿°æ–‡ä»¶package.json\r\n```shell\r\nÎ» npm init\r\nThis utility will walk you through creating a package.json file.\r\nIt only covers the most common items, and tries to guess sensible defaults.\r\n\r\nSee `npm help json` for definitive documentation on these fields\r\nand exactly what they do.\r\n\r\nUse `npm install <pkg>` afterwards to install a package and\r\nsave it as a dependency in the package.json file.\r\n\r\nPress ^C at any time to quit.\r\npackage name: (hellonpm) hello_npm_404\r\nversion: (1.0.0)\r\ndescription: A hello npm test\r\nentry point: (hello.js)\r\ntest command:\r\ngit repository:\r\nkeywords:\r\nauthor: 404\r\nlicense: (ISC)\r\nAbout to write to C:\\Users\\mars.shi\\Desktop\\helloNPM\\package.json:\r\n\r\n{\r\n  \"name\": \"hello_npm_404\",\r\n  \"version\": \"1.0.0\",\r\n  \"description\": \"A hello npm test\",\r\n  \"main\": \"hello.js\",\r\n  \"scripts\": {\r\n    \"test\": \"echo \\\"Error: no test specified\\\" && exit 1\"\r\n  },\r\n  \"author\": \"404\",\r\n  \"license\": \"ISC\"\r\n}\r\n\r\n\r\nIs this OK? (yes) yes\r\n```\r\n3. æ³¨å†ŒåŒ…ä»“åº“è´¦å·\r\n```shell\r\nÎ» npm adduser\r\nUsername: 404j\r\nPassword:\r\nEmail: (this IS public) j1491361626@gmail.com\r\nLogged in as 404j on https://registry.npmjs.org/.\r\n```\r\n> éœ€è¦npmå®˜ç½‘éªŒè¯é‚®ç®±å‘¦(ğŸ‘‰)[https://www.npmjs.com/email-edit]\r\n4. ä¸Šä¼ åŒ…\r\n```shell\r\nÎ» npm publish\r\n...\r\n+ hello_npm_404@1.0.0\r\n```\r\n\r\n  \r\n\r\n",
      "data": {
        "title": "NPM ä½¿ç”¨",
        "date": "2020-04-18 17:38:47",
        "tags": [
          "NPM",
          "Node",
          "JavaScript"
        ],
        "published": true,
        "hideInList": false,
        "feature": "http://404j-images.test.upcdn.net/coverImage/npm.png",
        "isTop": false
      },
      "isEmpty": false,
      "excerpt": "",
      "abstract": "",
      "fileName": "npm-shi-yong"
    },
    {
      "content": "é¦–å…ˆï¼Œæµè§ˆå™¨æ˜¯å¤šè¿›ç¨‹å·¥ä½œçš„ï¼Œæ¯æ‰“å¼€ä¸€ä¸ª tap é¡µé¢ï¼Œå°±ä¼šæ–°å¼€ä¸€ä¸ªç‹¬ç«‹çš„æµè§ˆå™¨è¿›ç¨‹ã€‚\r\n### æµè§ˆå™¨æœ‰å“ªäº›ä¸»è¦çš„è¿›ç¨‹\r\n1. Browserè¿›ç¨‹ï¼šæµè§ˆå™¨çš„ä¸»è¿›ç¨‹ï¼ˆè´Ÿè´£åè°ƒã€ä¸»æ§ï¼‰\r\n2. ç¬¬ä¸‰æ–¹æ’ä»¶è¿›ç¨‹ï¼šæ¯ç§ç±»å‹çš„æ’ä»¶å¯¹åº”ä¸€ä¸ªè¿›ç¨‹ï¼Œä»…å½“ä½¿ç”¨è¯¥æ’ä»¶æ—¶æ‰åˆ›å»º\r\n3. GPUè¿›ç¨‹ï¼šæœ€å¤šä¸€ä¸ªï¼Œç”¨äº3Dç»˜åˆ¶ç­‰\r\n4. æµè§ˆå™¨æ¸²æŸ“è¿›ç¨‹ï¼ˆæµè§ˆå™¨å†…æ ¸ï¼‰ï¼š**Rendererè¿›ç¨‹**ï¼Œå†…éƒ¨æ˜¯å¤šçº¿ç¨‹çš„ï¼Œè´Ÿè´£é¡µé¢æ¸²æŸ“ï¼Œè„šæœ¬æ‰§è¡Œï¼Œäº‹ä»¶å¤„ç†ç­‰\r\n---\r\n### å…³äºRendererè¿›ç¨‹ ğŸ’¥\r\n1. GUIæ¸²æŸ“çº¿ç¨‹\r\n- è´Ÿè´£æ¸²æŸ“æµè§ˆå™¨ç•Œé¢ï¼Œè§£æHTMLï¼ŒCSSï¼Œæ„å»ºDOMæ ‘å’ŒRenderObjectæ ‘ï¼Œå¸ƒå±€å’Œç»˜åˆ¶ç­‰\r\n- å½“ç•Œé¢éœ€è¦é‡ç»˜ï¼ˆRepaintï¼‰æˆ–ç”±äºæŸç§æ“ä½œå¼•å‘å›æµ(reflow)æ—¶ï¼Œè¯¥çº¿ç¨‹å°±ä¼šæ‰§è¡Œ\r\n2. **JSå¼•æ“çº¿ç¨‹** ğŸ’¥\r\n- ä¹Ÿç§°ä¸ºJSå†…æ ¸ï¼Œè´Ÿè´£å¤„ç†Javascriptè„šæœ¬ç¨‹åºï¼ˆä¾‹å¦‚V8å¼•æ“ï¼‰\r\n- å•çº¿ç¨‹è¿è¡Œjs\r\n- **å’ŒGUIæ¸²æŸ“çº¿ç¨‹äº’æ–¥ï¼Œä¸ä¼šåŒæ—¶è¿è¡Œï¼Œç”±äºJsæ˜¯å¯ä»¥æ“ä½œDOMçš„ï¼Œå¦‚æœJSå¼•æ“çº¿ç¨‹å’ŒGUIæ¸²æŸ“çº¿ç¨‹åŒæ—¶è¿è¡Œï¼Œè¿™æ ·å°±ä¼šäº§ç”Ÿå†²çª**\r\n3. äº‹ä»¶è§¦å‘çº¿ç¨‹\r\n- å½“å¯¹åº”äº‹ä»¶è§¦å‘ï¼ˆä¸è®ºæ˜¯WebAPIså®Œæˆäº‹ä»¶è§¦å‘ï¼Œè¿˜æ˜¯é¡µé¢äº¤äº’äº‹ä»¶è§¦å‘ï¼‰æ—¶ï¼Œè¯¥çº¿ç¨‹ä¼šå°†äº‹ä»¶å¯¹åº”çš„å›è°ƒå‡½æ•°æ”¾å…¥**callback queue**ï¼ˆä»»åŠ¡é˜Ÿåˆ—ï¼‰ä¸­ï¼Œç­‰å¾…jså¼•æ“çº¿ç¨‹çš„å¤„ç†\r\n4. å®šæ—¶è§¦å‘çº¿ç¨‹\r\n- å¯¹åº”äºsetTimeoutï¼ŒsetInterval APIï¼Œç”±è¯¥çº¿ç¨‹æ¥è®¡æ—¶ï¼Œå½“è®¡æ—¶ç»“æŸï¼Œå°†äº‹ä»¶å¯¹åº”çš„å›è°ƒå‡½æ•°æ”¾å…¥ä»»åŠ¡é˜Ÿåˆ—ä¸­\r\n- å½“setTimeoutçš„å®šæ—¶çš„æ—¶é—´å°äº4msï¼Œä¸€å¾‹æŒ‰4msæ¥ç®—\r\n5. å¼‚æ­¥httpè¯·æ±‚çº¿ç¨‹\r\n- åœ¨XMLHttpRequeståœ¨è¿æ¥åæ˜¯é€šè¿‡æµè§ˆå™¨æ–°å¼€ä¸€ä¸ªçº¿ç¨‹è¯·æ±‚\r\n- å°†æ£€æµ‹åˆ°çŠ¶æ€å˜æ›´æ—¶ï¼Œå¦‚æœè®¾ç½®æœ‰å›è°ƒå‡½æ•°ï¼Œå¼‚æ­¥httpè¯·æ±‚çº¿ç¨‹å°±äº§ç”ŸçŠ¶æ€å˜æ›´äº‹ä»¶ï¼Œå°†è¿™ä¸ªå›è°ƒæ”¾å…¥ä»»åŠ¡é˜Ÿåˆ—ä¸­ã€‚å†ç”±JavaScriptå¼•æ“æ‰§è¡Œ\r\n![](http://404j.fun/post-images/1587187987879.jpg)\r\n---\r\n### jså¦‚ä½•åœ¨æµè§ˆå™¨ä¸­è¿è¡Œ ğŸ’¥\r\n![](http://404j.fun/post-images/1587187994787.jpg)\r\n1. JSå¼•æ“çº¿ç¨‹æä¾›jsçš„è¿è¡Œç¯å¢ƒï¼Œæ­¤æ—¶ä¼šå½¢æˆä¸€ä¸ª**æ‰§è¡Œæ ˆï¼ˆstackï¼‰**ï¼Œå½“è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œå°±æŠŠå®ƒæ¨å…¥è¿è¡Œæ—¶ä¸­çš„æ ˆä¸­\r\n2. **æ‰§è¡Œæ ˆ**ä¸­æŸä¸€å‡½æ•°è°ƒç”¨Web Apisæ¥å£ï¼ˆè¯¸å¦‚å‘é€ HTTP è¯·æ±‚ã€ç›‘å¬ DOM äº‹ä»¶ã€å»¶è¿Ÿæ‰§è¡Œ setTimeout æˆ– setIntervalï¼‰çš„æ—¶å€™ï¼Œéœ€è¦æä¾›ä¸€ä¸ªå›è°ƒï¼ˆcallbackï¼‰å‡½æ•°ï¼Œåˆ™ JS å°†å…¶æ§åˆ¶æƒè¿åŒä¸€ä¸ª callback å§”æ´¾ç»™ Web API åç§»åŠ¨åˆ°è¯¥å‡½æ•°ä¸­çš„ä¸‹ä¸€è¡Œ\r\n3. æ­¤æ—¶Web Apisä¸­çš„ äº‹ä»¶è§¦å‘çº¿ç¨‹/å®šæ—¶è§¦å‘çº¿ç¨‹/å¼‚æ­¥httpè¯·æ±‚çº¿ç¨‹ å°±ä¼šå»ç›‘å¬è¿™äº›callbackä½•æ—¶è§¦å‘ï¼Œå½“æ»¡è¶³è§¦å‘æ¡ä»¶æ—¶ï¼Œå°±ä¼šå°†è¿™ä¸ªcallbackæ¨å…¥åˆ°**callback queue**ï¼ˆä»»åŠ¡é˜Ÿåˆ—ï¼‰ä¸­\r\n4. **äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰** å”¯ä¸€çš„å·¥ä½œå°±æ˜¯ç›¯ç€ -- å›è°ƒé˜Ÿåˆ—ä¸Šä¸€æœ‰å¾…æ‰§è¡Œï¼ˆpendingï¼‰çš„ callback å‡½æ•°ï¼Œå°±å°†å…¶æ¨å…¥æ‰§è¡Œæ ˆä¸­ï¼›è€Œè¿™ä¸€åŠ¨ä½œå‘ç”Ÿçš„æ—¶é—´ç‚¹ï¼Œæ˜¯ **æ ˆä¸€æ—¦ä¸ºç©ºçš„æ—¶å€™**\r\n5. ä¹‹åæ­¤callbackå°±ä¼šè¢«æ‰§è¡Œ\r\n\r\n> æ¥ä¸‹æ¥ä¸Šä»£ç ï¼š\r\n```html\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <script>\r\n      console.log(1)\r\n      setTimeout(() => {\r\n          console.log(3)\r\n          setTimeout(() =>{\r\n            console.log(5)\r\n          })\r\n      })\r\n      setTimeout(() => {\r\n          console.log(4)\r\n          setTimeout(() => {\r\n            console.log(6)\r\n          })\r\n      })\r\n      console.log(2)\r\n    </script>\r\n  </head>\r\n  <body>\r\n  </body>\r\n</html>\r\n```\r\n> å¦‚ä½ æ‰€æ„¿ï¼ŒBrowser ä¸­ Console çš„æ‰“å°ç»“æœä¸ºï¼š1 2 3 4 5 6\r\n---\r\n### macrotaskä¸microtask \r\n> å…ˆæ¥ä¸€æ®µä»£ç ï¼š\r\n```html\r\n<!DOCTYPE html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <script>\r\n      console.log(1)\r\n      setTimeout(() => {\r\n        console.log(2)\r\n        Promise.resolve().then(() => {\r\n          console.log('promise1')\r\n        }).then(() => {\r\n          console.log('promise2')\r\n        })\r\n      })\r\n      setTimeout(() => {\r\n        console.log(3)\r\n      })\r\n    </script>\r\n  </head>\r\n  <body>\r\n  </body>\r\n</html>\r\n```\r\næŒ‰ç…§â€œé˜Ÿåˆ—ç†è®ºâ€ï¼Œç»“æœåº”è¯¥ä¸º1 2 3 promise1 promise2ã€‚å¾ˆé—æ†¾è¾“å‡ºçš„æ˜¯1 2 promise1 promise2 3\r\nç†è§£è¿™ä¸ªéœ€è¦çŸ¥é“ä¸¤ä¸ªæ¦‚å¿µï¼š\r\n- macrotaskï¼šå®ä»»åŠ¡ï¼Œä»»åŠ¡é˜Ÿåˆ—ä¸­æ²¡æœ‰å……é’±çš„ç”¨æˆ·~ã€‚åŒ…æ‹¬ï¼šåŸç”ŸPromise\r\n- microtask ï¼šå¾®ä»»åŠ¡ï¼Œä»»åŠ¡é˜Ÿåˆ—ä¸­çš„VIPç”¨æˆ·ã€‚å½“ä¸»çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ï¼Œå¦‚æœå¾®ä»»åŠ¡é˜Ÿåˆ—ä¸­æœ‰å¾®ä»»åŠ¡ï¼Œåˆ™ä¼šå…ˆè¿›å…¥æ‰§è¡Œæ ˆï¼Œå½“å¾®ä»»åŠ¡é˜Ÿåˆ—æ²¡æœ‰ä»»åŠ¡æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œå®ä»»åŠ¡çš„é˜Ÿåˆ—ã€‚åŒ…æ‹¬ï¼šsetTimeout, setInterval, setImmediate, I/O\r\n\r\n",
      "data": {
        "title": "JavaScript in browser",
        "date": "2020-04-10 09:19:07",
        "tags": [
          "Browser",
          "JavaScript"
        ],
        "published": true,
        "hideInList": false,
        "feature": "http://404j-images.test.upcdn.net/coverImage/js_in_bowser.png",
        "isTop": false
      },
      "isEmpty": false,
      "excerpt": "",
      "abstract": "",
      "fileName": "VpO2dVtAo"
    },
    {
      "content": "*è®°å½•ä¸‹å¸¸ç”¨æˆ–è€…ä¸å¸¸ç”¨ï¼Œä¼šç”¨æˆ–è€…ä¸ä¼šç”¨çš„ Linux æ–‡ä»¶æ“ä½œå‘½ä»¤*\r\n---\r\n#### æ–°å»º\r\n```shell\r\nmkdir <folderName> # æ–°å»ºæ–‡ä»¶å¤¹\r\ntouch <fileName> # æ–°å»ºæ–‡ä»¶\r\nln -s <source> <dest> # åˆ›å»ºæ–‡ä»¶è½¯è¿æ¥(ç©¿ä¸ªè½¯è¿æ¥)\r\n```\r\n---\r\n#### æŸ¥çœ‹\r\n- æŸ¥çœ‹ç›®å½•\r\n```shell\r\nll -h or ls -lh # æ˜¾ç¤ºç›®å½•æ–‡ä»¶è¯¦ç»†ä¿¡æ¯\r\ndu -h <fileName or folderName> # æŸ¥çœ‹æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹çš„å¤§å°\r\npwd # æ˜¾ç¤ºå½“å‰è·¯å¾„\r\n```\r\n- æŸ¥çœ‹æ–‡ä»¶å†…å®¹\r\n```shell\r\ncat <fileName> # æŸ¥çœ‹æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹\r\nhead -<headLine> <fileName> # æŸ¥çœ‹æ–‡ä»¶å‰å‡ è¡Œçš„å†…å®¹\r\ntail -n <startToTail> -f <fileName> # æ˜¾ç¤ºæ–‡ä»¶åå‡ è¡Œçš„å†…å®¹\r\nmore <fileName> # æ˜¾ç¤ºä¸€å±æ–‡ä»¶å†…å®¹ã€‚Space --> ä¸‹ä¸€å±å†…å®¹; Enter --> ä¸‹ä¸€è¡Œå†…å®¹; Q --> é€€å‡º\r\nless <fileName> # ç±»ä¼¼äºmoreï¼Œå€¼å¾—ç ”ç©¶ä¸‹\r\nğŸ–ï¼šmoreå’Œlesså¯ä»¥ç»“åˆç®¡é“å‘½ä»¤ï¼šhistory | more; ps -ef | more\r\n```\r\n- æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€\r\n```shell\r\nstat <fileName> # æŸ¥çœ‹æ–‡ä»¶è¯¦ç»†ä¿¡æ¯\r\n```\r\n- æŸ¥çœ‹æ–‡ä»¶ç±»å‹\r\n```shell\r\nfile <fileName> # æŸ¥çœ‹æ–‡ä»¶ç±»å‹\r\n```\r\n---\r\n#### åˆ é™¤\r\n```shell\r\nrm -f -i -r <fileName> # f --> forceå¼ºåˆ¶åˆ é™¤; i --> interactiveäº¤äº’å¼åˆ é™¤; r --> recursiveé€’å½’åˆ é™¤æ–‡ä»¶å¤¹\r\n```\r\n---\r\n#### å¤åˆ¶\r\n- æœ¬åœ°å¤åˆ¶\r\n```shell\r\ncp -r <source> <dest> # r --> å¤åˆ¶æ–‡ä»¶å¤¹\r\n```\r\n- è¿œç¨‹å¤åˆ¶\r\n```shell\r\nscp -r <localFile> <remoteUserName>@<remoteIp>:<remoteFolder> # æœ¬åœ°å¤åˆ¶åˆ°è¿œç¨‹ï¼Œr --> å¤åˆ¶æ–‡ä»¶å¤¹\r\nscp -P <port> -r <remoteUserName>@<remoteIp>:<remoteFolder> <localFile> # è¿œç¨‹å¤åˆ¶åˆ°æœ¬åœ°ï¼Œr --> å¤åˆ¶æ–‡ä»¶å¤¹, P --> æŒ‡å®šç«¯å£\r\n```\r\n---\r\n#### ç§»åˆ° or é‡å‘½å\r\n```shell\r\nmv <source> <dest> # ç§»åŠ¨ or é‡å‘½å æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹\r\n```\r\n---\r\n#### å½’æ¡£ or è§£å‹ç¼©\r\n- å‹ç¼©\r\n```shell\r\ntar -cvf <dest.tar> <source> # å½’æ¡£æˆ*.taråŒ…, c --> å»ºç«‹æ¡£æ¡ˆ; v --> æ˜¾ç¤ºè¿‡ç¨‹; f --> ä½¿ç”¨æ¡£æ¡ˆåå­—ï¼Œå¿…å¡«ä¸”æœ€åä¸€ä¸ªå‚æ•°\r\ntar -czvf <dest.tar.gz> <source> # å‹ç¼©æˆ*.tar.gzæ–‡ä»¶, z --> æœ‰gzipå±æ€§\r\ntar -cjvf <dest.tar.bz2> <source> # å‹ç¼©æˆ*.tar.bz2æ–‡ä»¶, j --> æœ‰bz2å±æ€§\r\nzip <dest.zip> <source> # å‹ç¼©æˆ*.zipæ–‡ä»¶\r\n```\r\n- è§£å‹\r\n```shell\r\ntar -xvf <dest.tar> # å±•å¼€*.taråŒ…, x --> è§£å‹\r\ntar -xzvf <dest.tar.gz> # è§£å‹*.tar.gzæ–‡ä»¶\r\ntar -xjvf <dest.tar.gz> # è§£å‹*.tar.bz2æ–‡ä»¶\r\nunzip <dest.zip> # è§£å‹*.zipæ–‡ä»¶\r\n```\r\n> ğŸ–ï¼š[tar vs zip vs gz](https:#itsfoss.com/tar-vs-zip-vs-gz/)\r\n> ---\r\n#### æŸ¥æ‰¾\r\n```shell\r\nfind <targetFolders> -name <targetName> -type <b/d/c/p/l/f> # type -->å—è®¾å¤‡ã€ç›®å½•ã€å­—ç¬¦è®¾å¤‡ã€ç®¡é“ã€ç¬¦å·é“¾æ¥ã€æ™®é€šæ–‡ä»¶\r\nlocate <targetName>\r\nwhereis <targetName>\r\n```\r\n",
      "data": {
        "title": "Linux å‘½ä»¤ä¹‹æ–‡ä»¶æ“ä½œ",
        "date": "2020-04-02 09:03:34",
        "tags": [
          "Linux"
        ],
        "published": true,
        "hideInList": false,
        "feature": "http://404j-images.test.upcdn.net/coverImage/linux_shell_file.jpg",
        "isTop": false
      },
      "isEmpty": false,
      "excerpt": "",
      "abstract": "",
      "fileName": "eb1SrSwLN"
    },
    {
      "content": "**è°¨ä»¥æ­¤ç¯‡blogè®°å½•serverçš„mongoDBè¢«æ´—ç©ºğŸ˜–~~~**\r\n\r\n### 1. admin dbåˆ›å»ºè¶…çº§ç®¡ç†å‘˜ç”¨æˆ·\r\n- é¦–å…ˆè¿›å…¥MongoDB shell\r\n```shell\r\nmongo\r\n```\r\n- æ­¤æ—¶é»˜è®¤è¿›å…¥çš„testæ•°æ®åº“ï¼Œåˆ‡æ¢åˆ°adminæ•°æ®åº“ã€‚å…³äºadminæ•°æ®åº“åœ¨mongoDBä¸­çš„ä½œç”¨ï¼Œ\r\nstackoverflowä¸Šçš„ä¸€ä½ç½‘å‹è®²çš„æŒºæ¸…æ¥šï¼Œåœ¨æ­¤å¼•ç”¨ä¸€ä¸‹ï¼š*The main purpose of this admin database is to store system collections and user authentication and authorization data, which includes the administrator and user's usernames, passwords, and roles. Access is limited to only to administrators, who have the ability to create, update, and delete users and assign roles.*\r\n```js\r\nuse admin\r\n```\r\n- åˆ›å»ºAdministrator\r\n```js\r\ndb.createUser({\r\n    user: <username>,\r\n    pwd: <password>,\r\n    roles: [{\r\n        role: <role>, db: <targetDB> // roleä¸€èˆ¬æŒ‡å®šä¸º\"userAdminAnyDatabase\"\r\n    }]\r\n})  \r\n```\r\n> ä»¥ä¸‹ä¸ºmongoDBå†…ç½®çš„role\r\n\r\n| åˆ†ç±»                          | role(è§’è‰²) | ç®€è¦è¯´æ˜ |\r\n| ----------------------------- | ---------- | -------- |\r\n| æ•°æ®åº“ç”¨æˆ·è§’è‰²(DB User Roles) |    `read` `readWrite`        |  ä¸ºæŸä¸ªæ•°æ®åº“åˆ›å»ºä¸€ä¸ªç”¨æˆ·, åˆ†é…è¯¥æ•°æ®åº“çš„è¯»å†™æƒåŠ›        |\r\n| æ•°æ®åº“ç®¡ç†å‘˜è§’è‰²(DB Admin Roles) | `dbAdmin` `dbOwner` `userAdmin` | æ‹¥æœ‰åˆ›å»ºæ•°æ®åº“, å’Œåˆ›å»ºç”¨æˆ·çš„æƒåŠ› |\r\n| é›†ç¾¤ç®¡ç†è§’è‰²(Culster Administration Roles) | `clusterAdmin` `clusterManager` `clusterMonitor` `hostManager` | ç®¡ç†å‘˜ç»„, é’ˆå¯¹æ•´ä¸ªç³»ç»Ÿè¿›è¡Œç®¡ç† |\r\n| å¤‡ä»½è¿˜åŸè§’è‰²(Backup and Restoration Roles) | `backup` `restore` | å¤‡ä»½æ•°æ®åº“, è¿˜åŸæ•°æ®åº“ |\r\n| æ‰€æœ‰æ•°æ®åº“è§’è‰²(All-Database Roles) | `readAnyDatabase` `readWriteAnyDatabase` `userAdminAnyDatabase` `dbAdminAnyDatabase` | æ‹¥æœ‰å¯¹adminæ“ä½œçš„æƒé™ |\r\n| Superuser Roles(è¶…çº§ç®¡ç†å‘˜) | `root` `dbOwner` `userAdmin` `userAdminAnyDatabase` | è¿™å‡ ä¸ªè§’è‰²è§’è‰²æä¾›äº†ä»»ä½•æ•°æ®ä»»ä½•ç”¨æˆ·çš„ä»»ä½•æƒé™çš„èƒ½åŠ›ï¼Œæ‹¥æœ‰è¿™ä¸ªè§’è‰²çš„ç”¨æˆ·å¯ä»¥åœ¨ä»»ä½•æ•°æ®åº“ä¸Šå®šä¹‰å®ƒä»¬è‡ªå·±çš„æƒé™ |\r\n\r\n### 2. é‡å¯mongoæœåŠ¡ï¼Œå¼€å¯è®¤è¯\r\n- åœæ­¢æœåŠ¡\r\n```shell\r\nservice mongodb stop\r\n```\r\n- ä¿®æ”¹é…ç½®æ–‡ä»¶\r\n```shell\r\nwhereis mongodb.conf // æŸ¥æ‰¾é…ç½®æ–‡ä»¶\r\nauth = true // é…ç½®æ–‡ä»¶mongodb.conf å»æ‰ auth = true å‰é¢çš„æ³¨é‡Š\r\n```\r\n- é‡å¯æœåŠ¡\r\n```shell\r\nservice mongodb start\r\nor\r\nmongod -f mongodb.conf\r\n```\r\n\r\n### 3. è®¤è¯æ–¹å¼ç™»å½•mongo\r\n- ç™»å½•\r\n```js\r\nmongo\r\nuse admin\r\ndb.auth(<userName>, <password>)\r\nshow users // æŸ¥çœ‹ç”¨æˆ·\r\n```\r\n\r\n### 4. åˆ›å»ºæŒ‡å®šdb ç”¨æˆ·\r\n- è®¤è¯ç™»å½•adminåï¼Œåˆ‡æ¢è‡³æŒ‡å®šçš„db, ä»¥ç®¡ç†å‘˜èº«ä»½åˆ›å»ºå…¶ä»–ç”¨æˆ·\r\n```js\r\nuse <targetDB>\r\ndb.createUser({\r\n    user: <username>,\r\n    pwd: <password>,\r\n    roles: [{\r\n        role: <role>, db: <targetDB> // roleä¸€èˆ¬æŒ‡å®šä¸º\"readWrite\"\r\n    }]\r\n})\r\nshow users // å¯ä»¥é€šè¿‡ _idç¡®å®šç”¨æˆ·æ‰€æŒ‡å®šçš„æ•°æ®åº“\r\n```\r\n\r\n### 5. ä¿®æ”¹ç”¨æˆ·å¯†ç åŠåˆ é™¤ç”¨æˆ·\r\n- é¦–å…ˆä»¥ç®¡ç†å‘˜èº«ä»½ç™»å½•adminï¼Œç„¶åè¿›è¡Œä¿®æ”¹ä¸€èˆ¬ç”¨æˆ·å¯†ç æ“ä½œ\r\n```js\r\nuse <targetDB> // åˆ‡æ¢åˆ°å¾…ä¿®æ”¹ç”¨æˆ·æ‰€åœ¨çš„db, å¦åˆ™ user note found error\r\ndb.changeUserPassword(<userName>, <password>)\r\n```\r\n- åˆ é™¤ä¸€èˆ¬ç”¨æˆ·æ“ä½œ\r\n```js\r\nuse <targetDB> // åˆ‡æ¢åˆ°å¾…åˆ é™¤ç”¨æˆ·æ‰€åœ¨çš„db, å¦åˆ™ user note found error\r\ndb.dropUser(<userName>)\r\n```",
      "data": {
        "title": "Mongodb ç”¨æˆ·ç®¡ç†",
        "date": "2020-03-28 13:14:14",
        "tags": [
          "MongoDB"
        ],
        "published": true,
        "hideInList": false,
        "feature": "http://404j-images.test.upcdn.net/coverImage/mongodb_logo.jpg",
        "isTop": false
      },
      "isEmpty": false,
      "excerpt": "",
      "abstract": "",
      "fileName": "5AnbX_s7H"
    },
    {
      "content": "**Yanina ğŸ‘§ is very beautiful, and she is also very slim!**\r\n```js\r\nvar person = {\r\n    firstName: 'Mars',\r\n    lastName: 'Shi',\r\n    fullName: function () {\r\n        console.log(this.firstName, this.lastName)\r\n    }\r\n}\r\n\r\nperson.fullName()\r\n```\r\n> ä»¥ä¸Šæ–‡ä¸­çš„è‹±è¯­è¯­å¥å’Œjs codeè¿›è¡Œå¯¹æ¯”ï¼Œæ¥åˆæ­¥ç†è§£JavaScriptä¸­çš„thisç”¨æ³•ã€‚å…¶ä¸­*Yanina*å’Œ\r\n> *person*æ˜ å°„ï¼Œ*she* å’Œ*this*æ˜ å°„ã€‚åœ¨è‹±æ–‡è¯­å¥ä¸­ï¼Œ*she*ç”¨æ¥ä»£æ›¿ä¸Šä¸‹æ–‡ä¸­çš„*Yanina*,\r\n> *this*å…³é”®å­—æ˜¯ç”¨æ¥æŒ‡ä»£é‚£ä¸ªè¢«å½“å‰å‡½æ•°ï¼ˆå°±æ˜¯ä½¿ç”¨äº† this çš„å‡½æ•°ï¼‰ç»‘å®šçš„å¯¹è±¡*person*ã€‚\r\n> *this*å…¶å®å°±æ˜¯ä¸€ä¸ªå…·æœ‰è°ƒç”¨å½“å‰å‡½æ•°çš„å¯¹è±¡çš„å€¼çš„å˜é‡ã€‚\r\n\r\n## å…¨å±€ä½œç”¨åŸŸä½¿ç”¨this ğŸ˜‰(éNodeç¯å¢ƒ)\r\n```js\r\nvar firstName = \"Yanina\"\r\nvar lastName = \"Bu\"\r\nfunction fullName () {\r\n    console.log(this.firstName, this.lastName)\r\n}\r\n\r\nvar person = {\r\n    firstName: 'Mars',\r\n    lastName: 'Shi',\r\n    fullName: function () {\r\n        console.log(this.firstName, this.lastName)\r\n    }\r\n}\r\n\r\nfullName() // Yanina Bu\r\nthis.fullName() // Yanina Bu\r\nperson.fullName() // Mars Shi\r\n```\r\n> ä»¥ä¸Šcodeä¸­ï¼Œ*firstName*, *lastName*å’Œ*fullName*éƒ½æ˜¯å®šä¹‰åœ¨å…¨å±€ä½œç”¨åŸŸçš„å˜é‡ã€‚å…¨å±€å®šä¹‰çš„\r\n> å‡½æ•°ä¸­ï¼ŒthisæŒ‡å‘*window*å¯¹è±¡ã€‚ä½†æ˜¯`person.fullName()`ä¸­thisçš„**ä¸Šä¸‹æ–‡**ä¸º*person*\r\n> å¯¹è±¡ï¼Œæ‰€ä»¥ï¼ŒthisæŒ‡å‘*person*\r\n\r\nåœ¨ä¸‹é¢è¿™äº›æƒ…æ™¯ä¸­ï¼Œ this å…³é”®å­—å¯èƒ½ä¼šå˜å¾—ååˆ†éš¾ä»¥ç†è§£ã€‚åœ¨ç¤ºä¾‹ä¸­åŒæ—¶ç»™å‡ºäº†è§£å†³æœ‰å…³ this ä½¿ç”¨é”™è¯¯çš„æ–¹æ¡ˆã€‚\r\n#### 1. åŒ…å« this çš„æ–¹æ³•è¢«å½“åšå›è°ƒå‡½æ•°æ—¶é‡åˆ°çš„é—®é¢˜ğŸ¤‘\r\n\r\nerror:\r\n```js\r\nvar person = {\r\n    firstName: 'Mars',\r\n    lastName: 'Shi',\r\n    fullName: function () {\r\n        console.log(this.firstName, this.lastName)\r\n    }\r\n}\r\nsetTimeout(person.fullName, 1000)\r\n```\r\n> `person.fullName`ä½œä¸º*setTimeout*çš„å›è°ƒå‡½æ•°ï¼Œæ­¤æ—¶çš„*fullName*å‡½æ•°æ‰§è¡Œçš„ä¸Šä¸‹æ–‡ä¸º\r\n> *Timeout*å¯¹è±¡ï¼Œæ‰€ä»¥æ­¤æ—¶thisæŒ‡å‘çš„å¯¹è±¡ä¸º*Timeout*å¯¹è±¡ã€‚\r\n\r\ncorrect:\r\n```js\r\nvar person = {\r\n    firstName: 'Mars',\r\n    lastName: 'Shi',\r\n    fullName: function () {\r\n        console.log(this)\r\n        console.log(this.firstName, this.lastName)\r\n    }\r\n}\r\nsetTimeout(person.fullName.bind(person), 1000)\r\n```\r\n> ä½¿ç”¨bind()æ–¹æ³•æ˜¾å¼çš„è®¾ç½®thisçš„å€¼ã€‚\r\n\r\n#### 2. this å‡ºç°åœ¨é—­åŒ…å†…é‡åˆ°çš„é—®é¢˜ğŸ˜§\r\n\r\nerror:\r\n```js\r\nvar clazz = {\r\n    clazzName: 'class No.1',\r\n    students: [\r\n        'Mars', 'Yanina'\r\n    ],\r\n    call: function () {\r\n        this.students.forEach(function (student) {\r\n            console.log(student, 'from', this.clazzName)\r\n        })\r\n    }\r\n}\r\n\r\nclazz.call()\r\n```\r\n> *forEach*ä¸­çš„åŒ¿åå‡½æ•°ä¸º*call*çš„å†…å±‚å‡½æ•°ï¼Œå†…å±‚å‡½æ•°ä¸­ä¸å¯è®¿é—®å¤–å±‚å‡½æ•°çš„thiså˜é‡\r\n\r\ncorrect:\r\n```js\r\nvar clazz = {\r\n    clazzName: 'class No.1',\r\n    students: [\r\n        'Mars', 'Yanina'\r\n    ],\r\n    call: function () {\r\n        var clazzObj = this\r\n        this.students.forEach(function (student) {\r\n            console.log(student, 'from', clazzObj.clazzName)\r\n        })\r\n    }\r\n}\r\n\r\nclazz.call()\r\n```\r\nor\r\n```js\r\nvar clazz = {\r\n    clazzName: 'class No.1',\r\n    students: [\r\n        'Mars', 'Yanina'\r\n    ],\r\n    call: function () {\r\n        this.students.forEach((student) => {\r\n            console.log(student, 'from', this.clazzName)\r\n        })\r\n    }\r\n}\r\n\r\nclazz.call()\r\n```\r\n> æ–¹æ³•ä¸€ä½¿ç”¨å˜é‡å°†this'è½¬å­˜'ã€‚æ–¹æ³•äºŒï¼Œä½¿ç”¨*ES6*çš„ç®­å¤´å‡½æ•°ï¼Œç®­å¤´å‡½æ•°å†…éƒ¨çš„thisæ˜¯è¯æ³•ä½œç”¨åŸŸï¼Œ\r\n> ç”±ä¸Šä¸‹æ–‡ç¡®å®šï¼Œæœ¬ä¾‹ä¸­çš„ä¸Šä¸‹æ–‡æ˜¯*clazz*\r\n\r\n#### 3. æŠŠä¸€ä¸ª this æ–¹æ³• èµ‹ç»™ä¸€ä¸ªå˜é‡æ—¶å‡ºç°çš„é—®é¢˜ğŸ˜Œ\r\n\r\nerror:\r\n```js\r\nvar students = ['mars', 'yanina']\r\nvar clazz = {\r\n    clazzName: 'class No.1',\r\n    studesnts: [\r\n        'Mars', 'Yanina'\r\n    ],\r\n    call: function () {\r\n        this.students.forEach((student) => {\r\n            console.log(student)\r\n        })\r\n    }\r\n}\r\nvar callFromClass1 = clazz.call\r\ncallFromClass1()\r\n```\r\n> æ­¤æ—¶`callFromClass1()`å–çš„*studesnts*ä¸æ˜¯*clazz*ä¸­çš„å±æ€§ï¼Œè€Œæ˜¯å…¨å±€çš„*clazz*ï¼Œå› ä¸ºå‡½\r\n> æ•°*callFromClass1*çš„æ‰§è¡Œä¸Šä¸‹æ–‡æ˜¯å…¨å±€ã€‚\r\n\r\ncorrect:\r\n```js\r\nvar callFromClass1 = clazz.call.bind(clazz)\r\ncallFromClass1()\r\n```\r\n> ä½¿ç”¨`bind()`æ–¹æ³•å°†*call*å’Œ*clazz*å¯¹è±¡ç»‘å®šèµ·æ¥ï¼Œæ˜¾å¼çš„è®¾ç½®*this*çš„å€¼ã€‚\r\n\r\n#### 4. å½“å€Ÿç”¨æ–¹æ³•çš„æ—¶å€™ this çš„å€¼ä¸æ­£ç¡®çš„é—®é¢˜ğŸ™ƒ\r\n\r\nerror:\r\n```js\r\nvar gameController = {\r\n\tscores: [20, 34, 55, 46, 77],\r\n\tavgScore: null,\r\n\tplayers: [\r\n\t\t{name: \"Tommy\", playerID: 987, age: 23},\r\n\t\t{name: \"Pau\", playerID: 87, age: 33}\r\n\t]\r\n}\r\nvar appController = {\r\n\tscores: [900, 845, 809, 950],\r\n\tavgScore: null,\r\n\tavg: function() {\r\n\t\tvar sumOfScores = this.scores.reduce(function(prev, cur, index, array) {\r\n\t\t\treturn prev + cur\r\n\t\t})\r\n\t\tthis.avgScore = sumOfScores / this.scores.length\r\n\t}\r\n}\r\ngameController.avgScore = appController.avg()\r\nconsole.log(gameController.avgScore)\r\nconsole.log(appController.avgScore)\r\n```\r\n> åœ¨ avg æ–¹æ³•ä¸­çš„ this ä¸ä¼šæŒ‡å‘ gameController å¯¹è±¡ï¼Œè€Œä¼šæŒ‡å‘ appController å¯¹è±¡ï¼Œå› \r\n> ä¸ºå®ƒæ˜¯è¢« appController å¯¹è±¡æ‰€è°ƒç”¨çš„ã€‚\r\n\r\ncorrect:\r\n```js\r\nappController.avg.apply(gameController, gameController.scores)\r\n```\r\n> gameController å¯¹è±¡å€Ÿç”¨äº† appController çš„ avg() æ–¹æ³•ã€‚åœ¨ appController.avg() ä¸­\r\n> çš„ this çš„å€¼ä¼šè¢«è®¾ç½®æˆ gameController å¯¹è±¡ï¼Œå› ä¸ºæˆ‘ä»¬æŠŠ gameController ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°\r\n> ä¼ å…¥äº† apply() æ–¹æ³•ä¸­ã€‚ä¼ å…¥ apply() æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¼šè¢«æ˜¾å¼åœ°è®¾ç½®ä¸º this çš„å€¼\r\n",
      "data": {
        "title": "JavaScript : this",
        "date": "2020-03-19 21:33:12",
        "tags": [
          "JavaScript"
        ],
        "published": true,
        "hideInList": false,
        "feature": "http://404j-images.test.upcdn.net/coverImage/javascript_this.jpg",
        "isTop": false
      },
      "isEmpty": false,
      "excerpt": "",
      "abstract": "",
      "fileName": "G0jEltNXf"
    },
    {
      "content": "### **mongo[ğŸƒ](https://docs.mongodb.com/manual/reference/program/mongo/)**\r\n* run mongo shell with a connection string\r\n```shell\r\nmongo \"mongodb://<username>:<password>@<host>:<port>/<db name>\" <js file>\r\n```\r\n* run mongo shell with various command-line options\r\n```shell\r\nmongo -u <username> -p <password> --host <host> --port <port>  <js file>\r\n```\r\n\r\n---\r\n### **mongodump[ğŸ€](https://docs.mongodb.com/manual/reference/program/mongodump/)**\r\n```shell\r\nmongodump -h <ip>:<port> -d <db name> -u <userName> -p <pwd> -c <collection> -o <dump dir>\r\n```\r\n*Also can run mongodump shell with --uri*\r\n```shell\r\nmongodump --uri \"mongodb://<username>:<password>@<host>:<port>/<db name>\" [additional options]\r\n```\r\n\r\n---\r\n### **mongorestore[ğŸŒ´](https://docs.mongodb.com/manual/reference/program/mongorestore/)** \r\n```shell\r\nmongorestore [options] [<directory>/<BSON file>]\r\n```\r\n*Part of options is same as [mongodump](#mongodump)*\r\n\r\n---\r\n### **mongoexport[â˜˜ï¸](https://docs.mongodb.com/manual/reference/program/mongoexport/)**\r\n```shell\r\nmongoexport -u <username> -p <password> --host <host> --port <port> -d <db name>  -c <collection> --out <json/csv file>\r\n```\r\n*Also can run mongoexport shell with --uri*\r\n\r\n---\r\n### **mongoimport[ğŸ‚](https://docs.mongodb.com/manual/reference/program/mongoimport/)**\r\n```shell\r\nmongoimport -u <username> -p <password> --host <host> --port <port> -d <db name>  -c <collection> --file <json/csv file>\r\n```\r\n*Also can run mongoimport shell with --uri*",
      "data": {
        "title": "MongoDB: åŸºç¡€å‘½ä»¤",
        "date": "2020-03-17 17:31:51",
        "tags": [
          "MongoDB"
        ],
        "published": true,
        "hideInList": false,
        "feature": "http://404j-images.test.upcdn.net/coverImage/mongodb_logo.jpg",
        "isTop": false
      },
      "isEmpty": false,
      "excerpt": "",
      "abstract": "",
      "fileName": "Co9D62eqS"
    },
    {
      "content": "åœ¨äº†è§£ js ä¸­çš„é—­åŒ…æ¦‚å¿µä¹‹å‰ï¼Œé¦–å…ˆäº†è§£ä»¥ä¸‹å‡ ä¸ªæ¦‚å¿µï¼š\r\n\r\n- [ç«‹å³æ‰§è¡Œå‡½æ•°](#ç«‹å³æ‰§è¡Œå‡½æ•°)\r\n- [ä½œç”¨åŸŸä»¥åŠå˜é‡](#ä½œç”¨åŸŸä»¥åŠå˜é‡)\r\n\r\n### ç«‹å³æ‰§è¡Œå‡½æ•°ğŸ‘\r\né¦–å…ˆç†è§£ä»¥ä¸‹æ¦‚å¿µï¼šå‡½æ•°å£°æ˜ï¼Œå‡½æ•°è¡¨è¾¾å¼ï¼ŒåŒ¿åå‡½æ•°ã€‚å¦‚ä¸‹codeï¼š\r\n```js\r\nfunction fun () {\r\n    console.log(\"å‡½æ•°å£°æ˜\")\r\n}\r\nvar f = function fun () {\r\n    console.log(\"å‡½æ•°è¡¨è¾¾å¼\")\r\n}\r\nfunction () {\r\n    console.log(\"åŒ¿åå‡½æ•°\")\r\n}\r\n```\r\nç«‹å³æ‰§è¡Œå‡½æ•°å³ä¸ºå‡½æ•°è¡¨è¾¾å¼åœ¨åˆ›å»ºåç«‹å³æ‰§è¡Œã€‚å®ç°æ–¹å¼å¦‚ä¸‹ï¼š\r\n```js\r\n(function (param) {\r\n    console.log(param) // è¾“å‡º 1ï¼Œä½¿ç”¨()è¿ç®—ç¬¦\r\n} ) (1)\r\n\r\n(function (param) {\r\nconsole.log(param) // è¾“å‡º 1ï¼Œä½¿ç”¨()è¿ç®—ç¬¦\r\n} (1) )\r\n\r\n[! || - || +]function (param) {\r\nconsole.log(param) // è¾“å‡º 1 ï¼Œä½¿ç”¨ ! æˆ– - æˆ– + è¿ç®—ç¬¦\r\n} (1)\r\n```\r\n\r\n### ä½œç”¨åŸŸä»¥åŠå˜é‡ğŸ”\r\nES5 åªæœ‰å…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸï¼Œå…¨å±€ä½œç”¨åŸŸæŒ‡çš„æ˜¯scriptæ ‡ç­¾æˆ–è€…ä¸€ä¸ªjsæ–‡ä»¶ã€‚å‡½æ•°ä½œç”¨åŸŸæŒ‡çš„æ˜¯ï¼Œå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œåœ¨å†…å­˜ä¸­åˆ›å»ºå‡½æ•°ä½œç”¨åŸŸï¼Œå‡½æ•°æ‰§è¡Œå®Œæ¯•åï¼Œè¯¥ä½œç”¨åŸŸè¢«é”€æ¯ï¼Œä¸”å‡½æ•°æ¯è°ƒç”¨ä¸€æ¬¡ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ä½œç”¨åŸŸï¼Œç›¸äº’ç‹¬ç«‹ã€‚å½“åœ¨å‡½æ•°ä½œç”¨åŸŸæ“ä½œä¸€ä¸ªå˜é‡æ—¶ï¼Œå®ƒä¼šå…ˆåœ¨è‡ªèº«ä½œç”¨åŸŸä¸­å¯»æ‰¾ï¼Œå¦‚æœæœ‰å°±ç›´æ¥ä½¿ç”¨ï¼Œå¦‚æœæ²¡æœ‰åˆ™å‘ä¸Šä¸€çº§ä½œç”¨åŸŸä¸­å¯»æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°å…¨å±€ä½œç”¨åŸŸï¼Œå¦‚æœå…¨å±€ä½œç”¨åŸŸä¸­ä¾ç„¶æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ä¼šæŠ¥é”™ReferenceErrorã€‚\r\n```js\r\nvar param = 'å…¨å±€å˜é‡param'\r\nfunction func1 () {\r\n  var param1 = 'func1çš„å±€éƒ¨å˜é‡param1'\r\n  function func2 () {\r\n    var param2 = 'func1çš„å±€éƒ¨å˜é‡param2'\r\n    console.log(param2) // func1çš„å±€éƒ¨å˜é‡param2\r\n    console.log(param) // å…¨å±€å˜é‡param\r\n  }\r\n  func2()\r\n  console.log(param) // å…¨å±€å˜é‡param\r\n  console.log(param1) // func1çš„å±€éƒ¨å˜é‡param1\r\n  console.log(param2) // ReferenceError: param2 is not defined\r\n}\r\n\r\nfunc1()\r\n```\r\nåœ¨å‡½æ•°ä½œç”¨åŸŸä¸­å¯ä»¥è®¿é—®åˆ°å…¨å±€ä½œç”¨åŸŸçš„å˜é‡ï¼Œåœ¨å…¨å±€ä½œç”¨åŸŸä¸­æ— æ³•è®¿é—®åˆ°å‡½æ•°ä½œç”¨åŸŸçš„å˜é‡\r\n\r\n# å¼€å§‹å¼„æ‡‚é—­åŒ…ğŸ–\r\n## 1. ä»€ä¹ˆæ˜¯é—­åŒ…ï¼ŸğŸ˜®\r\n```js\r\n(function () {  // ç«‹å³æ‰§è¡Œå‡½æ•°\r\n    var localParam = \"å±€éƒ¨å˜é‡\"\r\n    function func () {\r\n        console.log(localParam)\r\n    }\r\n})()\r\n\r\né—­åŒ…åœ¨ ES6 ä½“ç°ï¼š\r\n{\r\n    let localParam = \"å±€éƒ¨å˜é‡\"\r\n    function func () {\r\n        console.log(localParam)\r\n    }\r\n}\r\n```\r\nä¸Šé¢codeä¸­ï¼Œç«‹å³æ‰§è¡Œå‡½æ•°ä¸­çš„ä¸‰è¡Œä»£ç : ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œä¸€ä¸ªå¯ä»¥è®¿é—®è¿™ä¸ªå±€éƒ¨å˜é‡çš„å‡½æ•°ï¼Œè¿™ä¸¤ä¸ªæ¡ä»¶çš„æ€»å’Œï¼ˆæˆ–è€…å«åšç¯å¢ƒï¼‰å°±æ˜¯é—­åŒ…ã€‚\r\n\r\n## 2. é—­åŒ…çš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼ŸğŸ˜œ\r\nå‡å¦‚è¯´ï¼Œä¸€ä¸ªå…¬å¸çš„å‘˜å·¥çš„åŸºç¡€å·¥èµ„ä¸º1000ğŸ’°ï¼Œä½†æ˜¯ä½œä¸ºè€æ¿çš„ä½ ä¸å¸Œæœ›å…¶ä»–leaderéšéšä¾¿ä¾¿å°±ç»™æ‰‹ä¸‹çš„å‘˜å·¥æ¶¨å·¥èµ„ï¼Œéœ€è¦ç»è¿‡ä½ çš„å®¡æ ¸ã€‚é‚£ä¹ˆä¸‹é¢æ–¹æ¡ˆå°±ç¬¦åˆä½ çš„è¦æ±‚ï¼š\r\n```js\r\n(function () {\r\n    var employeeSalary = 1000\r\n    function riseSalary (amount) {\r\n        console.log(\"è€æ¿å®¡æ ¸å®Œæˆï¼Œå…è®¸æ¶¨å·¥èµ„\")\r\n        employeeSalary += amount\r\n        return employeeSalary\r\n    }\r\n    globalThis.riseSalary = riseSalary\r\n})()\r\nconsole.log(globalThis.riseSalary(100))\r\n```\r\nå¦‚æœæƒ³ç»™å‘˜å·¥æ¶¨å·¥èµ„ï¼Œå°±å¿…é¡»è°ƒç”¨`riseSalary()`å‡½æ•°ï¼Œå°leaderå°±ä¸èƒ½éšéšä¾¿ä¾¿æ“ä½œ`employeeSalary`ã€‚\r\nå…¶å®æˆ‘ç†è§£çš„é—­åŒ…çš„ä½œç”¨å°±æ˜¯ï¼Œæœ‰é‚£ä¹ˆä¸€ä¸ªå˜é‡ï¼Œä½ ä¸å¸Œæœ›æŠŠå®ƒæš´æ¼åœ¨å…¨å±€ä½œç”¨åŸŸï¼Œä»è€Œè®©åˆ«äººç›´æ¥è®¿é—®åˆ°ã€‚é‚£ä¹ˆä½ ä¼šæŠŠè¿™ä¸ªå˜é‡å£°æ˜ä¸ºå±€éƒ¨å˜é‡ï¼Œä½†æ˜¯å±€éƒ¨å˜é‡åˆ«äººå°±è®¿é—®ä¸åˆ°äº†ã€‚é‚£ä¹ˆæ­¤æ—¶å°±éœ€è¦ä½¿ç”¨é—­åŒ…ï¼Œæä¾›ä¸€ä¸ªè®¿é—®å™¨ï¼ˆå‡½æ•°ï¼‰ï¼Œè®©ä½¿ç”¨è€…é—´æ¥ä½¿ç”¨è¿™ä¸ªå±€éƒ¨å˜é‡ã€‚\r\n\r\n## 3. å°ç»“â³\r\né—­åŒ…çœ‹èµ·æ¥ä¸å°±æ˜¯æƒ³è®©`var`å‘½ä»¤å£°æ˜çš„å˜é‡ä¸å¯ä»¥åœ¨å…¨å±€è®¿é—®åˆ°å—ï¼Ÿï¼ğŸ˜‚é‚£å°±ç”¨ ES6 çš„`let`å’Œ`const`æ¥å£°æ˜å˜é‡å§ï¼\r\næœ€åå‘ç°ä¸€ç¯‡æŒºå¥½çš„æ–‡ç« ï¼Œä¸¢ä¸ªé“¾æ¥[ğŸ‘](https://www.cnblogs.com/zhuzhenwei918/p/6131345.html)\r\n",
      "data": {
        "title": "JavaScript: é—­åŒ…",
        "date": "2020-03-17 15:28:44",
        "tags": [
          "JavaScript"
        ],
        "published": true,
        "hideInList": false,
        "feature": "http://404j-images.test.upcdn.net/coverImage/javascript_feature.jpg",
        "isTop": false
      },
      "isEmpty": false,
      "excerpt": "",
      "abstract": "",
      "fileName": "_Uh0ZoSNz"
    },
    {
      "content": "# 1. varğŸ‹\r\n\r\n`ES5` åªæœ‰å…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸï¼Œæ²¡æœ‰å—çº§ä½œç”¨åŸŸã€‚\r\n\r\n```js\r\nlet arr1 = []\r\nfor (var i = 0; i < 2; i++) {\r\n    arr1[i] = function() {\r\n        console.log(i)\r\n    }\r\n}\r\narr1[1]() // è¾“å‡ºç»“æœä¸º2\r\n```\r\nä¸Šé¢codeä¸­ï¼Œåœ¨`for`å¾ªç¯ä¸­ï¼Œå¾ªç¯å˜é‡`i`ä½¿ç”¨`var`å‘½ä»¤å®šä¹‰æ—¶ï¼Œç›¸å½“äºå…¨å±€æœ‰æ•ˆã€‚æ¯æ¬¡å¾ªç¯æ‰§è¡Œæ—¶ï¼Œå¾ªç¯å˜é‡`i`çš„å€¼éƒ½ä¼šè¢«é‡æ–°èµ‹å€¼æ‰€è¦†ç›–æ‰ã€‚å‡½æ•°ä½“`{ console.log(i) }`ä¸æ˜¯ç«‹å³æ‰§è¡Œï¼Œå½“å¾ªç¯ç»“æŸæ—¶ï¼Œ`arr1[1]()`å¼€å§‹è°ƒç”¨å‡½æ•°æ‰§è¡Œï¼Œæ­¤æ—¶`i`çš„å€¼ä¸º2ï¼Œæ‰€ä»¥æ§åˆ¶å°è¾“å‡º2ã€‚\r\n\r\n# 2. letğŸ‰\r\n\r\nES6 ä¸­æ–°å¢äº†`let`å‘½ä»¤è¿›è¡Œå˜é‡çš„å®šä¹‰ï¼Œæ‰€å®šä¹‰çš„å˜é‡åªåœ¨`let`å‘½ä»¤æ‰€åœ¨çš„ä»£ç å—å†…æœ‰æ•ˆï¼Œ`let`å‘½ä»¤å®é™…ä¸Šä¸º JavaScript æ–°å¢äº†å—çº§ä½œç”¨åŸŸã€‚\r\n\r\n```js\r\nlet arr2 = []\r\nfor (let j = 0; j < 2; j++) {\r\n    arr2[j] = function() {\r\n        console.log(j)\r\n    }\r\n}\r\narr2[1]() // è¾“å‡ºç»“æœä¸º1\r\n```\r\nä¸Šé¢çš„codeä¸­ï¼Œåœ¨`for`å¾ªç¯ä¸­ï¼Œå¾ªç¯å˜é‡`j`ä½¿ç”¨`let`å‘½ä»¤å®šä¹‰ï¼Œè¿™æ ·å˜é‡`j`å°±ä¸ä¼šè¢«'æ³„éœ²'åˆ°å…¨å±€ä½œç”¨åŸŸä¸­ã€‚æ¯æ¬¡å¾ªç¯éƒ½æ˜¯`j`éƒ½æ˜¯ä¸€ä¸ªæ–°çš„å˜é‡ï¼Œæ‰€ä»¥æ¯æ¬¡å¾ªç¯éƒ½æ˜¯ä¸€ä¸ªæ–°çš„å—ä½œç”¨åŸŸã€‚å½“è¯­å¥`arr2[1]()`æ‰§è¡Œæ—¶ï¼Œæ‰€è°ƒç”¨çš„å‡½æ•°ä½“`console.log(j)`ä¸­çš„å˜é‡`j`ä¸ºå½“æ¬¡å¾ªç¯çš„æ–°çš„å—ä½œç”¨åŸŸä¸­çš„å˜é‡`j`,å€¼ä¸º1ï¼Œæ‰€ä»¥æ§åˆ¶å°è¾“å‡º1ã€‚\r\n\r\n# 3. constğŸ…\r\nES6ä¸­æ–°å¢äº†`const`å‘½ä»¤ï¼Œç”¨æ¥å£°æ˜ä¸€ä¸ªå€¼ä¸å¯ä»¥æ”¹å˜çš„å¸¸é‡ï¼Œ`const`é™¤äº†æ‰€å£°æ˜çš„å˜é‡çš„å€¼ä¸å¯ä»¥æ”¹å˜ï¼Œç”¨æ³•å’Œ`let`å‘½ä»¤å‡ ä¹ç›¸åŒï¼Œéƒ½åªåœ¨å½“å‰å—ä½œç”¨åŸŸæœ‰æ•ˆï¼Œå¹¶æ£€æŸ¥å½“å‰å—ä½œç”¨åŸŸå½¢æˆæš‚æ—¶æ€§æ­»åŒºã€‚\r\n```js\r\nconst PI = 3.1415 // PIçš„å€¼ä¸å¯ä»¥è¢«æ”¹å˜ï¼Œå£°æ˜å¹¶ä¸”åˆå§‹åŒ–\r\nPI = 3 // TypeError: Assignment to constant variable.\r\n```\r\n\r\n`const`å®é™…ä¸Šä¿è¯çš„ï¼Œå¹¶ä¸æ˜¯å˜é‡çš„å€¼ä¸å¾—æ”¹åŠ¨ï¼Œè€Œæ˜¯å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€æ‰€ä¿å­˜çš„æ•°æ®ä¸å¾—æ”¹åŠ¨ã€‚å¯¹äºä½¿ç”¨`const`å‘½ä»¤å£°æ˜çš„åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆ`undefinedã€nullã€numberã€booleanã€string`ï¼‰å€¼å°±ä¿å­˜åœ¨å˜é‡æŒ‡å‘çš„é‚£ä¸ªå†…å­˜åœ°å€ï¼Œå› æ­¤ç­‰åŒäºå¸¸é‡ã€‚ä½†å¯¹äºå¤åˆç±»å‹çš„æ•°æ®ï¼ˆå¯¹è±¡å’Œæ•°ç»„ç­‰ï¼‰ï¼Œåªèƒ½ä¿è¯å˜é‡æ‰€æŒ‡å‘çš„å†…å­˜åœ°å€ä¸å˜ï¼ˆæŒ‡é’ˆä¸å˜ï¼‰ï¼Œä½†æ˜¯å†…å­˜é‡Œæ‰€ä¿å­˜çš„å€¼æ˜¯å¯ä»¥å˜åŒ–çš„ã€‚\r\n```js\r\nconst person = {\r\n    name: 'Mars'\r\n}\r\nperson.name = 'Yanina' // Yanina\r\nconsole.log(person.name)\r\nperson = {} // TypeError: Assignment to constant variable.\r\n```",
      "data": {
        "title": "ES6: JSå˜é‡çš„å£°æ˜",
        "date": "2020-03-15 21:00:09",
        "tags": [
          "ES6",
          "JavaScript"
        ],
        "published": true,
        "hideInList": false,
        "feature": "http://404j-images.test.upcdn.net/coverImage/javascript_variable_declaration.jpg",
        "isTop": false
      },
      "isEmpty": false,
      "excerpt": "",
      "abstract": "",
      "fileName": "QG5Q6-9X0"
    }
  ],
  "tags": [
    {
      "index": -1,
      "name": "NPM",
      "slug": "jKPki5ft6",
      "used": true
    },
    {
      "name": "Node",
      "slug": "2lKxFb2mgF",
      "used": true
    },
    {
      "name": "JavaScript",
      "slug": "OiN8CLTmo",
      "used": true
    },
    {
      "name": "Browser",
      "slug": "f60ELn4Qhf",
      "used": true
    },
    {
      "name": "Linux",
      "slug": "fdvmVrdrrC",
      "used": true
    },
    {
      "name": "MongoDB",
      "slug": "97WQkWtCw_",
      "used": true
    },
    {
      "name": "ES6",
      "slug": "rhbjFcFtXz",
      "used": true
    },
    {
      "name": "Gridea",
      "slug": "ui8jAzmaj",
      "used": false
    }
  ],
  "menus": [
    {
      "link": "/",
      "name": "ğŸ Home",
      "openType": "Internal"
    },
    {
      "link": "/archives",
      "name": "ğŸ“Archives",
      "openType": "Internal"
    },
    {
      "link": "/tags",
      "name": "ğŸ”–Tags",
      "openType": "Internal"
    },
    {
      "link": "/links",
      "name": "ğŸ”—Links",
      "openType": "Internal"
    }
  ]
}